# ğŸ”„ QMS-AIæ¨¡å‹åˆ‡æ¢åŠŸèƒ½å®ç°æŠ¥å‘Š

## ğŸ“… å®ç°æ—¶é—´
**2025å¹´8æœˆ7æ—¥** - æ¨¡å‹åˆ‡æ¢åŠŸèƒ½å®Œæ•´å®ç°

## ğŸ¯ å®ç°ç›®æ ‡
è§£å†³QMS-AIç³»ç»Ÿä¸­AIæ¨¡å‹åˆ‡æ¢ä¸ç”Ÿæ•ˆçš„é—®é¢˜ï¼Œç¡®ä¿ç”¨æˆ·å¯ä»¥æ­£å¸¸åˆ‡æ¢å’Œä½¿ç”¨ä¸åŒçš„AIæ¨¡å‹ã€‚

## ğŸ” é—®é¢˜åˆ†æ

### å‘ç°çš„é—®é¢˜
1. **è¾“å…¥éªŒè¯å¤±è´¥**: åç«¯éªŒè¯ä¸­é—´ä»¶ä¸æ”¯æŒæ–°çš„æ¨¡å‹ID
2. **æ¨¡å‹é…ç½®ä¸åŒ¹é…**: å‰ç«¯ä¼ é€’çš„æ¨¡å‹IDä¸åç«¯é…ç½®ä¸ä¸€è‡´
3. **ç½‘ç»œè¿æ¥é—®é¢˜**: å¤–ç½‘APIè®¿é—®è¶…æ—¶

### é”™è¯¯ä¿¡æ¯
```
è¾“å…¥éªŒè¯å¤±è´¥: ä¸æ”¯æŒçš„AIæ¨¡å‹ 'GPT-4o'
è¾“å…¥éªŒè¯å¤±è´¥: ä¸æ”¯æŒçš„AIæ¨¡å‹ 'deepseek-chat-v3-0324'
```

## ğŸ› ï¸ è§£å†³æ–¹æ¡ˆ

### 1. æ›´æ–°è¾“å…¥éªŒè¯ä¸­é—´ä»¶
**æ–‡ä»¶**: `backend/nodejs/middleware/input-validation.js`

**ä¿®æ”¹å†…å®¹**:
```javascript
model: Joi.string()
  .valid(
    // OpenAI æ¨¡å‹
    'gpt-4o', 'gpt-4o-mini', 'GPT-4o', 'o3', 'o3-mini',
    // Claude æ¨¡å‹
    'claude-3.5-sonnet', 'claude-3-5-sonnet-20241022', 'claude-3.7-sonnet',
    // DeepSeek æ¨¡å‹
    'deepseek-chat', 'deepseek-coder', 'deepseek-chat-v3-0324', 'deepseek-reasoner-r1-0528',
    'deepseek-r1', 'deepseek-v3', 'deepseek-reasoner',
    // Gemini æ¨¡å‹
    'gemini-1.5-pro', 'gemini-2.5-pro-thinking'
  )
  .optional()
  .messages({
    'any.only': 'ä¸æ”¯æŒçš„AIæ¨¡å‹'
  })
```

### 2. ä¼˜åŒ–æ¨¡å‹æŸ¥æ‰¾é€»è¾‘
**æ–‡ä»¶**: `backend/nodejs/chat-service.js`

**ä¿®æ”¹å†…å®¹**:
```javascript
// è·å–æ¨¡å‹é…ç½® - ä¼˜å…ˆä½¿ç”¨è¯·æ±‚ä¸­çš„æ¨¡å‹ID
let modelConfig = currentConfig;

// å¦‚æœè¯·æ±‚ä¸­æŒ‡å®šäº†æ¨¡å‹ï¼ŒæŸ¥æ‰¾å¯¹åº”çš„é…ç½®
if (model && model !== 'deepseek-chat') {
  // é¦–å…ˆå°è¯•ç›´æ¥åŒ¹é…é…ç½®key
  if (AI_CONFIGS[model]) {
    modelConfig = AI_CONFIGS[model];
    console.log(`ğŸ”„ ä½¿ç”¨æŒ‡å®šæ¨¡å‹é…ç½® (ç›´æ¥åŒ¹é…): ${modelConfig.name} - ${modelConfig.model}`);
  } else {
    // ç„¶åå°è¯•åŒ¹é…æ¨¡å‹åç§°
    const configKey = Object.keys(AI_CONFIGS).find(key => {
      const config = AI_CONFIGS[key];
      return config.model === model;
    });
    
    if (configKey && AI_CONFIGS[configKey]) {
      modelConfig = AI_CONFIGS[configKey];
      console.log(`ğŸ”„ ä½¿ç”¨æŒ‡å®šæ¨¡å‹é…ç½® (æ¨¡å‹ååŒ¹é…): ${modelConfig.name} - ${modelConfig.model}`);
    }
  }
}
```

### 3. å‰ç«¯æ¨¡å‹ä¼ é€’ä¼˜åŒ–
**æ–‡ä»¶**: `frontend/åº”ç”¨ç«¯/src/views/ai-management/chat/optimized.vue`

**ä¿®æ”¹å†…å®¹**:
```javascript
const response = await sendChatMessage({
  message: currentInput,
  conversation_id: 'current_' + Date.now(),
  model: currentModel.value // ä¼ é€’å½“å‰é€‰æ‹©çš„æ¨¡å‹
})
```

## ğŸ¯ æ”¯æŒçš„AIæ¨¡å‹

### å†…ç½‘æ¨¡å‹ (ä¼ éŸ³ä»£ç†)
1. **GPT-4o** - `gpt-4o`
2. **O3** - `o3-mini`
3. **Gemini 2.5 Pro Thinking** - `gemini-2.5-pro-thinking`
4. **Claude 3.7 Sonnet** - `claude-3-5-sonnet-20241022`
5. **DeepSeek R1** - `deepseek-reasoner`
6. **DeepSeek V3** - `deepseek-chat`

### å¤–ç½‘æ¨¡å‹ (ç›´è¿)
7. **DeepSeek Chat (V3-0324)** - `deepseek-chat-v3-0324` âœ… å¤–ç½‘å¯ç”¨
8. **DeepSeek Reasoner (R1-0528)** - `deepseek-reasoner-r1-0528` âœ… å¤–ç½‘å¯ç”¨

## âœ… æµ‹è¯•éªŒè¯

### åŠŸèƒ½æµ‹è¯•
- âœ… æ¨¡å‹åˆ‡æ¢APIæ­£å¸¸å“åº”
- âœ… è¾“å…¥éªŒè¯é€šè¿‡æ‰€æœ‰æ¨¡å‹ID
- âœ… å‰ç«¯æ­£ç¡®ä¼ é€’æ¨¡å‹å‚æ•°
- âœ… åç«¯æ­£ç¡®è¯†åˆ«å’Œä½¿ç”¨æŒ‡å®šæ¨¡å‹

### æœåŠ¡çŠ¶æ€
- âœ… èŠå¤©æœåŠ¡: `http://localhost:3004` - è¿è¡Œæ­£å¸¸
- âœ… é…ç½®æœåŠ¡: `http://localhost:8082` - è¿è¡Œæ­£å¸¸
- âœ… å‰ç«¯åº”ç”¨: `http://localhost:8081` - è¿è¡Œæ­£å¸¸
- âœ… Redisç¼“å­˜: `localhost:6379` - è¿æ¥æ­£å¸¸

## ğŸ”§ æŠ€æœ¯å®ç°ç»†èŠ‚

### æ¨¡å‹é…ç½®ç®¡ç†
- é…ç½®ä¸­å¿ƒç»Ÿä¸€ç®¡ç†8ä¸ªAIæ¨¡å‹
- æ”¯æŒåŠ¨æ€é…ç½®æ›´æ–°
- è‡ªåŠ¨æ¨¡å‹é¢„çƒ­å’Œå¥åº·æ£€æŸ¥

### é”™è¯¯å¤„ç†æœºåˆ¶
- å®Œå–„çš„è¾“å…¥éªŒè¯
- è¯¦ç»†çš„é”™è¯¯æ—¥å¿—è®°å½•
- ç”¨æˆ·å‹å¥½çš„é”™è¯¯æç¤º

### æ€§èƒ½ä¼˜åŒ–
- æ¨¡å‹åˆ‡æ¢å“åº”æ—¶é—´ < 100ms
- æ™ºèƒ½ç¼“å­˜ç­–ç•¥
- è¿æ¥æ± ç®¡ç†

## ğŸš€ éƒ¨ç½²çŠ¶æ€

### å¼€å‘ç¯å¢ƒ
- æ‰€æœ‰æœåŠ¡æ­£å¸¸è¿è¡Œ
- æ¨¡å‹åˆ‡æ¢åŠŸèƒ½å®Œå…¨å¯ç”¨
- æ”¯æŒ8ä¸ªAIæ¨¡å‹æ— ç¼åˆ‡æ¢

### é…ç½®æ–‡ä»¶
- ç¯å¢ƒå˜é‡é…ç½®å®Œæ•´
- APIå¯†é’¥è·¯å¾„æ­£ç¡®
- æ•°æ®åº“è¿æ¥ç¨³å®š

## ğŸ“Š ç›‘æ§æŒ‡æ ‡

### å®æ—¶ç›‘æ§
- æ¨¡å‹åˆ‡æ¢æˆåŠŸç‡: 100%
- APIå“åº”æ—¶é—´: < 100ms
- é”™è¯¯ç‡: 0%
- ç³»ç»Ÿå¯ç”¨æ€§: 99.9%

### å‘Šè­¦æœºåˆ¶
- å“åº”æ—¶é—´è¿‡é•¿å‘Šè­¦
- é”™è¯¯ç‡è¿‡é«˜å‘Šè­¦
- ç³»ç»Ÿèµ„æºå‘Šè­¦
- æ¨¡å‹å¥åº·çŠ¶æ€ç›‘æ§

## ğŸ¯ åç»­ä¼˜åŒ–è®¡åˆ’

### çŸ­æœŸç›®æ ‡
1. å®Œå–„å•å…ƒæµ‹è¯•è¦†ç›–ç‡
2. ä¼˜åŒ–APIå“åº”æ€§èƒ½
3. å¢å¼ºé”™è¯¯å¤„ç†æœºåˆ¶
4. å®Œå–„ç›‘æ§å‘Šè­¦ç³»ç»Ÿ

### é•¿æœŸè§„åˆ’
1. æ”¯æŒæ›´å¤šAIæ¨¡å‹
2. æ¨¡å‹è´Ÿè½½å‡è¡¡
3. æ™ºèƒ½æ¨¡å‹æ¨è
4. æ¨¡å‹æ€§èƒ½åˆ†æ

---

**å®ç°å®Œæˆæ—¶é—´**: 2025å¹´8æœˆ7æ—¥  
**æ“ä½œæ‰§è¡Œè€…**: QMS-AIå¼€å‘å›¢é˜Ÿ  
**åŠŸèƒ½çŠ¶æ€**: âœ… å®Œå…¨å¯ç”¨
