# ğŸš€ QMS-AIç³»ç»Ÿå¿«é€Ÿå¯åŠ¨æŒ‡å— v3.0

> **æ›´æ–°æ—¶é—´**: 2025-08-06  
> **ç‰ˆæœ¬**: v3.0 (å½“å‰è¿è¡Œç‰ˆæœ¬)  
> **çŠ¶æ€**: âœ… å·²éªŒè¯å¯ç”¨

## ğŸ“‹ ç³»ç»Ÿæ¶æ„æ¦‚è§ˆ

### ğŸ¯ å½“å‰è¿è¡Œçš„æœåŠ¡
| æœåŠ¡åç§° | ç«¯å£ | çŠ¶æ€ | åŠŸèƒ½æè¿° |
|---------|------|------|----------|
| **Redisç¼“å­˜** | 6380 | âœ… è¿è¡Œä¸­ | æ•°æ®ç¼“å­˜å’Œä¼šè¯å­˜å‚¨ |
| **é…ç½®ä¸­å¿ƒ** | 8082 | âœ… è¿è¡Œä¸­ | è½»é‡çº§é…ç½®ç®¡ç†æœåŠ¡ |
| **è®¤è¯æœåŠ¡** | 8084 | âœ… è¿è¡Œä¸­ | ç”¨æˆ·è®¤è¯å’Œæƒé™ç®¡ç† |
| **AIèŠå¤©æœåŠ¡** | 3004 | âœ… è¿è¡Œä¸­ | 8ä¸ªAIæ¨¡å‹èŠå¤©åŠŸèƒ½ |
| **åº”ç”¨ç«¯å‰ç«¯** | 8081 | âœ… è¿è¡Œä¸­ | ä¸»è¦ä¸šåŠ¡æ“ä½œç•Œé¢ |

---

## ğŸš€ ä¸€é”®å¯åŠ¨ (æ¨è)

### æ–¹å¼1: ä½¿ç”¨pnpmå¯åŠ¨è„šæœ¬
```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œ
start-with-pnpm.bat
```

### æ–¹å¼2: ä½¿ç”¨npxå‘½ä»¤
```bash
# å¯åŠ¨Redis
npx pnpm run redis:start

# å¯åŠ¨åç«¯æœåŠ¡
npx pnpm run dev:backend

# å¯åŠ¨åº”ç”¨ç«¯å‰ç«¯
npx pnpm run dev:app
```

---

## ğŸ”§ æ‰‹åŠ¨å¯åŠ¨ (å¼€å‘è°ƒè¯•)

### 1. å¯åŠ¨Redisç¼“å­˜ (å¿…éœ€)
```bash
npx pnpm run redis:start
```
**éªŒè¯**: Redisè¿è¡Œåœ¨ç«¯å£6380

### 2. å¯åŠ¨åç«¯æœåŠ¡é›†ç¾¤
```bash
npx pnpm run dev:backend
```
**åŒ…å«æœåŠ¡**:
- é…ç½®ä¸­å¿ƒ (8082)
- è®¤è¯æœåŠ¡ (8084) 
- AIèŠå¤©æœåŠ¡ (3004)

### 3. å¯åŠ¨å‰ç«¯åº”ç”¨
```bash
npx pnpm run dev:app
```
**è®¿é—®åœ°å€**: http://localhost:8081

---

## ğŸ¥ å¥åº·æ£€æŸ¥

### å¿«é€Ÿæ£€æŸ¥æ‰€æœ‰æœåŠ¡
```bash
# æ£€æŸ¥Redis
npx pnpm run redis:status

# æ£€æŸ¥åç«¯æœåŠ¡
curl http://localhost:8082/health  # é…ç½®ä¸­å¿ƒ
curl http://localhost:8084/health  # è®¤è¯æœåŠ¡
curl http://localhost:3004/health  # AIèŠå¤©æœåŠ¡

# æ£€æŸ¥å‰ç«¯
curl http://localhost:8081/        # åº”ç”¨ç«¯
```

### é¢„æœŸå“åº”
- **Redis**: æ˜¾ç¤ºè¿›ç¨‹ä¿¡æ¯
- **åç«¯æœåŠ¡**: `{"status":"healthy","service":"..."}`
- **å‰ç«¯**: HTMLé¡µé¢å†…å®¹

---

## ğŸŒ è®¿é—®åœ°å€

### ä¸»è¦å…¥å£
- **ğŸ¨ åº”ç”¨ç«¯**: http://localhost:8081/
  - å·¥ä½œæµæ­å»ºé¡µé¢
  - AIèŠå¤©ç•Œé¢
  - ç³»ç»Ÿç®¡ç†

### APIç«¯ç‚¹
- **ğŸ’¬ AIèŠå¤©**: http://localhost:3004/api/chat/
- **ğŸ” è®¤è¯**: http://localhost:8084/api/auth/
- **âš™ï¸ é…ç½®**: http://localhost:8082/api/

---

## ğŸ› ï¸ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

#### 1. Redisè¿æ¥å¤±è´¥
```bash
# æ£€æŸ¥RedisçŠ¶æ€
npx pnpm run redis:status

# é‡å¯Redis
npx pnpm run redis:stop
npx pnpm run redis:start
```

#### 2. ç«¯å£è¢«å ç”¨
```bash
# æ£€æŸ¥ç«¯å£å ç”¨ (Windows)
netstat -ano | findstr ":8081"
netstat -ano | findstr ":8082"
netstat -ano | findstr ":8084"
netstat -ano | findstr ":3004"
netstat -ano | findstr ":6380"

# æ€æ­»å ç”¨è¿›ç¨‹
taskkill /PID <è¿›ç¨‹ID> /F
```

#### 3. å‰ç«¯404é”™è¯¯
- ç¡®ä¿åç«¯æœåŠ¡å·²å¯åŠ¨
- æ£€æŸ¥ä»£ç†é…ç½® (vite.config.js)
- æ¸…é™¤æµè§ˆå™¨ç¼“å­˜

#### 4. AIæ¨¡å‹é…ç½®åŠ è½½å¤±è´¥
- æ£€æŸ¥é…ç½®ä¸­å¿ƒæ˜¯å¦è¿è¡Œ (8082)
- éªŒè¯é…ç½®æ–‡ä»¶: `backend/nodejs/config/data/ai_models.json`

---

## ğŸ“ é‡è¦æ–‡ä»¶ä½ç½®

### é…ç½®æ–‡ä»¶
```
backend/nodejs/
â”œâ”€â”€ .env                           # ç¯å¢ƒå˜é‡é…ç½®
â”œâ”€â”€ config/data/
â”‚   â”œâ”€â”€ ai_models.json            # AIæ¨¡å‹é…ç½®
â”‚   â”œâ”€â”€ services.json             # æœåŠ¡é…ç½®
â”‚   â””â”€â”€ system.json               # ç³»ç»Ÿé…ç½®
â””â”€â”€ config/redis/
    â””â”€â”€ redis-persistent.conf     # Redisé…ç½®
```

### å¯åŠ¨è„šæœ¬
```
é¡¹ç›®æ ¹ç›®å½•/
â”œâ”€â”€ start-with-pnpm.bat          # ä¸€é”®å¯åŠ¨è„šæœ¬
â”œâ”€â”€ package.json                 # pnpmå·¥ä½œç©ºé—´é…ç½®
â””â”€â”€ pnpm-workspace.yaml         # å·¥ä½œç©ºé—´å®šä¹‰
```

---

## ğŸ”„ ç‰ˆæœ¬æ›´æ–°è®°å½•

### v3.0 (2025-08-06) - å½“å‰ç‰ˆæœ¬
- âœ… Redisç«¯å£: 6379 â†’ 6380
- âœ… åº”ç”¨ç«¯: 8080 â†’ 8081
- âœ… é…ç½®ä¸­å¿ƒ: 3003 â†’ 8082
- âœ… ç»Ÿä¸€ä½¿ç”¨è½»é‡çº§é…ç½®æœåŠ¡
- âœ… ç®€åŒ–æœåŠ¡æ¶æ„ï¼Œç§»é™¤å†—ä½™æœåŠ¡

### v2.0 (å†å²ç‰ˆæœ¬)
- é…ç½®ç«¯: 8072 â†’ 8073
- åº”ç”¨ç«¯: 8080 â†’ 8082
- é…ç½®ä¸­å¿ƒ: 3003 â†’ 3005

---

## ğŸ’¡ å¼€å‘æç¤º

### æ¨èå¼€å‘æµç¨‹
1. å¯åŠ¨åŸºç¡€è®¾æ–½ (Redis)
2. å¯åŠ¨åç«¯æœåŠ¡é›†ç¾¤
3. å¯åŠ¨å‰ç«¯åº”ç”¨
4. ä½¿ç”¨å¥åº·æ£€æŸ¥éªŒè¯

### æ€§èƒ½ä¼˜åŒ–
- Redisç¼“å­˜å·²å¯ç”¨
- æ•°æ®åº“è¿æ¥æ± å·²é…ç½®
- å‰ç«¯ä»£ç†å·²ä¼˜åŒ–

### è°ƒè¯•æŠ€å·§
- æŸ¥çœ‹æœåŠ¡æ—¥å¿—: å„æœåŠ¡ç»ˆç«¯çª—å£
- ä½¿ç”¨æµè§ˆå™¨å¼€å‘è€…å·¥å…·
- æ£€æŸ¥ç½‘ç»œè¯·æ±‚å’Œå“åº”

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚é‡é—®é¢˜ï¼Œè¯·æ£€æŸ¥ï¼š
1. æ‰€æœ‰æœåŠ¡æ˜¯å¦æ­£å¸¸å¯åŠ¨
2. ç«¯å£æ˜¯å¦è¢«å ç”¨
3. é…ç½®æ–‡ä»¶æ˜¯å¦æ­£ç¡®
4. ç½‘ç»œè¿æ¥æ˜¯å¦æ­£å¸¸

**æ–‡æ¡£æ›´æ–°**: æœ¬æŒ‡å—åŸºäºå®é™…è¿è¡ŒçŠ¶æ€ç¼–å†™ï¼Œç¡®ä¿å‡†ç¡®æ€§ã€‚
