# 🔍 QMS-AI服务端口检查报告

## 📊 检查时间
**生成时间**: 2025-08-06 19:40  
**检查方式**: netstat + tasklist 组合检查  
**检查范围**: QMS-AI项目相关端口 (3000-3004, 8080-8084, 8072)

---

## 🟢 当前运行的QMS-AI服务端口

### 1. 端口 3000 - 简单测试服务 ✅
- **进程ID**: 31544
- **进程名**: node.exe
- **内存使用**: 41,704 KB
- **绑定地址**: 0.0.0.0:3000 (IPv4) + [::]:3000 (IPv6)
- **对应终端**: Terminal 53
- **服务名称**: QMS-AI简单测试服务
- **功能**: 基础API测试和健康检查
- **访问地址**: http://localhost:3000
- **状态**: 🟢 正常运行

### 2. 端口 8081 - 前端应用端 ✅
- **进程ID**: 32240
- **进程名**: node.exe
- **内存使用**: 139,932 KB (最高)
- **绑定地址**: 0.0.0.0:8081 (IPv4)
- **对应终端**: Terminal 60
- **服务名称**: Vue3前端应用端
- **功能**: 主要用户界面
- **访问地址**: http://localhost:8081
- **状态**: 🟢 正常运行

### 3. 端口 8082 - 配置服务 ✅
- **进程ID**: 34580
- **进程名**: node.exe
- **内存使用**: 47,688 KB
- **绑定地址**: 0.0.0.0:8082 (IPv4) + [::]:8082 (IPv6)
- **对应终端**: Terminal 50
- **服务名称**: QMS轻量级配置中心
- **功能**: 配置管理和AI模型配置
- **访问地址**: http://localhost:8082
- **状态**: 🟢 正常运行

### 4. 端口 8084 - 认证服务 ✅
- **进程ID**: 26640
- **进程名**: node.exe
- **内存使用**: 57,764 KB
- **绑定地址**: 0.0.0.0:8084 (IPv4) + [::]:8084 (IPv6)
- **对应终端**: Terminal 58
- **服务名称**: QMS-AI认证服务
- **功能**: 用户认证和授权管理
- **访问地址**: http://localhost:8084
- **状态**: 🟢 正常运行

---

## ❌ 未运行的预期端口

### 1. 端口 3001 - 认证服务 (原计划)
- **状态**: ❌ 未运行
- **说明**: 认证服务实际运行在8084端口
- **影响**: 无，服务正常运行在8084

### 2. 端口 3002 - Coze Studio服务
- **状态**: ❌ 未运行
- **说明**: 尚未启动Coze Studio服务
- **影响**: 扩展AI功能暂不可用

### 3. 端口 3003 - 配置服务 (原计划)
- **状态**: ❌ 未运行
- **说明**: 配置服务实际运行在8082端口
- **影响**: 无，服务正常运行在8082

### 4. 端口 3004 - 聊天服务
- **状态**: ❌ 未运行
- **说明**: 聊天服务启动失败
- **影响**: 🚨 **核心AI聊天功能不可用**

### 5. 端口 8072 - 前端配置端
- **状态**: ❌ 未运行
- **说明**: Vue2配置端启动失败
- **影响**: 配置管理界面不可用

### 6. 端口 8080 - 前端应用端 (原计划)
- **状态**: ❌ 未运行
- **说明**: 前端应用实际运行在8081端口
- **影响**: 无，服务正常运行在8081

---

## 📊 端口使用统计

### 按服务类型分类
- **后端API服务**: 3个运行 / 5个计划 (60%)
- **前端Web服务**: 1个运行 / 2个计划 (50%)
- **总体运行率**: 4个运行 / 7个计划 (57%)

### 按端口范围分类
- **3000-3004 范围**: 1个运行 / 5个计划 (20%)
- **8080-8084 范围**: 3个运行 / 3个计划 (100%)

### 内存使用情况
- **总内存使用**: 286,388 KB (约 280 MB)
- **平均每服务**: 71,597 KB (约 70 MB)
- **最高使用**: 139,932 KB (前端应用端)
- **最低使用**: 41,704 KB (测试服务)

---

## 🔍 端口冲突检查

### 系统其他服务占用的相关端口
- **6379**: Redis服务 (127.0.0.1) ✅ 正常
- **6380**: Redis服务备用端口 (127.0.0.1) ✅ 正常
- **3307**: MySQL相关服务 (可能冲突)
- **5672**: RabbitMQ服务 (不冲突)

### 潜在冲突分析
- ✅ **无直接端口冲突**
- ✅ **IPv4和IPv6双栈绑定正常**
- ✅ **所有运行服务端口独占**

---

## 🌐 网络访问测试

### 本地访问 (localhost)
- **3000**: ✅ 可访问 - 测试服务
- **8081**: ✅ 可访问 - 前端应用
- **8082**: ✅ 可访问 - 配置服务
- **8084**: ✅ 可访问 - 认证服务

### 网络访问 (10.206.90.34)
- **8081**: ✅ 可访问 - 前端应用支持网络访问
- **其他端口**: 仅本地访问

---

## 🚨 关键问题识别

### 1. 聊天服务未运行 (端口3004)
- **严重程度**: 🔴 高
- **影响**: 核心AI聊天功能完全不可用
- **建议**: 优先修复聊天服务启动问题

### 2. 配置端前端未运行 (端口8072)
- **严重程度**: 🟡 中
- **影响**: 无法通过Web界面管理配置
- **建议**: 修复Vue2配置端启动问题

### 3. Coze Studio服务未启动 (端口3002)
- **严重程度**: 🟡 中
- **影响**: 扩展AI功能不可用
- **建议**: 后续启动Coze Studio服务

---

## 📋 端口规划建议

### 当前端口映射 (实际运行)
```
3000  → 测试服务     ✅
8081  → 前端应用端   ✅
8082  → 配置服务     ✅
8084  → 认证服务     ✅
```

### 建议的端口规划 (标准化)
```
3000  → 聊天服务     (主要AI功能)
3001  → 认证服务     (用户管理)
3002  → Coze服务     (扩展AI)
3003  → 配置服务     (系统配置)
8080  → 前端应用端   (主界面)
8072  → 前端配置端   (管理界面)
```

### 迁移建议
1. **保持当前运行的服务不变** (避免中断)
2. **修复未运行的服务时使用标准端口**
3. **逐步迁移到标准端口规划**

---

## 🔧 下一步行动

### 🔥 紧急 (立即处理)
1. **修复聊天服务** - 恢复核心AI功能
2. **诊断端口3004启动失败原因**

### 🔧 重要 (本周内)
3. **启动配置端前端** - 完善管理界面
4. **启动Coze Studio服务** - 扩展AI功能

### 📈 优化 (后续)
5. **标准化端口规划** - 统一端口分配
6. **添加端口监控** - 自动检测服务状态

---

**报告生成时间**: 2025-08-06 19:40:00  
**检查工具**: netstat + tasklist  
**服务运行率**: 4/7 (57%) ✅  
**关键服务状态**: 部分可用 ⚠️
