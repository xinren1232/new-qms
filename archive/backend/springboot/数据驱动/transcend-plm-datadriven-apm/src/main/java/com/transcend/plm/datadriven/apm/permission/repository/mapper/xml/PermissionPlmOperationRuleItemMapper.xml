<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.transcend.plm.datadriven.apm.permission.repository.mapper.PermissionPlmOperationRuleItemMapper">

    <resultMap id="BaseResultMap" type="com.transcend.plm.datadriven.apm.permission.repository.entity.PermissionPlmOperationRuleItem">
            <id property="id" column="id" jdbcType="INTEGER"/>
            <result property="bid" column="bid" jdbcType="VARCHAR"/>
            <result property="permissionBid" column="permission_bid" jdbcType="VARCHAR"/>
            <result property="roleCode" column="role_code" jdbcType="VARCHAR"/>
            <result property="path" column="path" jdbcType="VARCHAR"/>
            <result property="operationDetail" column="operation_detail" jdbcType="BIT"/>
            <result property="operationEdit" column="operation_edit" jdbcType="BIT"/>
            <result property="operationDelete" column="operation_delete" jdbcType="BIT"/>
            <result property="operationRevise" column="operation_revise" jdbcType="BIT"/>
            <result property="operationPromote" column="operation_promote" jdbcType="BIT"/>
            <result property="operationMove" column="operation_move" jdbcType="BIT"/>
            <result property="operationImport" column="operation_1" jdbcType="BIT"/>
            <result property="operationExport" column="operation_2" jdbcType="BIT"/>
            <result property="operation3" column="operation_3" jdbcType="BIT"/>
            <result property="operation4" column="operation_4" jdbcType="BIT"/>
            <result property="operation5" column="operation_5" jdbcType="BIT"/>
            <result property="operation6" column="operation_6" jdbcType="BIT"/>
            <result property="operation7" column="operation_7" jdbcType="BIT"/>
            <result property="operation8" column="operation_8" jdbcType="BIT"/>
            <result property="operation9" column="operation_9" jdbcType="BIT"/>
            <result property="operation10" column="operation_10" jdbcType="BIT"/>
            <result property="modelViewTableView" column="model_view_table_view" jdbcType="BIT"/>
            <result property="modelViewTreeView" column="model_view_tree_view" jdbcType="BIT"/>
            <result property="modelViewMultiTreeView" column="model_view_multi_tree_view" jdbcType="BIT"/>
            <result property="modelViewOverview" column="model_view_overview" jdbcType="BIT"/>
            <result property="modelViewMeasureReport" column="model_view_measure_report" jdbcType="BIT"/>
            <result property="modelViewKanbanView" column="model_view_kanban_view" jdbcType="BIT"/>
            <result property="modelViewGanttView" column="model_view_gantt_view" jdbcType="BIT"/>
            <result property="modelViewAll" column="model_view_all" jdbcType="BIT"/>
            <result property="instanceLock" column="instance_lock" jdbcType="BIT"/>
            <result property="instanceUnlock" column="instance_unlock" jdbcType="BIT"/>
            <result property="sync" column="sync" jdbcType="BIT"/>
            <result property="operationStr" column="operation_str" jdbcType="VARCHAR"/>
            <result property="enableFlag" column="enable_flag" jdbcType="BOOLEAN"/>
            <result property="deleteFlag" column="delete_flag" jdbcType="BIT"/>
            <result property="tenantId" column="tenant_id" jdbcType="BIGINT"/>
            <result property="createdBy" column="created_by" jdbcType="VARCHAR"/>
            <result property="createdTime" column="created_time" jdbcType="TIMESTAMP"/>
            <result property="updatedBy" column="updated_by" jdbcType="VARCHAR"/>
            <result property="updatedTime" column="updated_time" jdbcType="TIMESTAMP"/>
    </resultMap>

    <sql id="Base_Column_List">
        id,bid,permission_bid,
        role_code,path,operation_detail,
        operation_edit,operation_delete,operation_revise,
        operation_promote,operation_move,operation_1,operation_2,
        operation_3,operation_4,operation_5,
        operation_6,operation_7,operation_8,
        operation_9,operation_10,operation_str,
        model_view_all,
        model_view_gantt_view,
        model_view_kanban_view,
        model_view_measure_report,
        model_view_overview,
        model_view_multi_tree_view,
        model_view_tree_view,
        model_view_table_view,
        instance_lock,
        instance_unlock,
        sync,
        enable_flag,delete_flag,tenant_id,
        created_by,created_time,updated_by,
        updated_time
    </sql>
    <delete id="deleteByBids">
        delete from permission_plm_operation_rule_item where bid in
        <foreach collection="bids" item="bid" open="(" separator="," close=")">
            #{bid}
        </foreach>
    </delete>
    <delete id="deleteByPermissionBid">
        delete from permission_plm_operation_rule_item where permission_bid = #{permissionBid}
    </delete>

    <!--    saveList 批量新增数据-->
    <insert id="saveList" parameterType="list"  >
        INSERT INTO permission_plm_operation_rule_item
        (
        bid,
        permission_bid,
        role_code,
        path,
        operation_detail,
        operation_edit,
        operation_delete,
        operation_revise,
        operation_promote,
        operation_move,
        operation_1,
        operation_2,
        operation_3,
        operation_4,
        operation_5,
        operation_6,
        operation_7,
        operation_8,
        operation_9,
        operation_10,
        operation_str,
        enable_flag,
        created_by,
        created_time,
        updated_by,
        updated_time,
        model_view_all,
        model_view_gantt_view,
        model_view_kanban_view,
        model_view_measure_report,
        model_view_overview,
        model_view_multi_tree_view,
        model_view_tree_view,
        model_view_table_view,
        instance_lock,
        instance_unlock,
         sync
        )
        VALUES
        <foreach collection="permissionPlmOperationRuleItemNews" item="data" separator=",">
            (
            #{data.bid},
            #{data.permissionBid},
            #{data.roleCode},
            #{data.path},
            #{data.operationDetail},
            #{data.operationEdit},
            #{data.operationDelete},
            #{data.operationRevise},
            #{data.operationPromote},
            #{data.operationMove},
            #{data.operationImport},
            #{data.operationExport},
            #{data.operation3},
            #{data.operation4},
            #{data.operation5},
            #{data.operation6},
            #{data.operation7},
            #{data.operation8},
            #{data.operation9},
            #{data.operation10},
            #{data.operationStr},
            #{data.enableFlag},
            #{data.createdBy},
            NOW(),
            #{data.updatedBy},
            NOW(),
            #{data.modelViewAll},
            #{data.modelViewGanttView},
            #{data.modelViewKanbanView},
            #{data.modelViewMeasureReport},
            #{data.modelViewOverview},
            #{data.modelViewMultiTreeView},
            #{data.modelViewTreeView},
            #{data.modelViewTableView},
            #{data.instanceLock},
            #{data.instanceUnlock},
            #{data.sync}
            )
        </foreach>
    </insert>

</mapper>
