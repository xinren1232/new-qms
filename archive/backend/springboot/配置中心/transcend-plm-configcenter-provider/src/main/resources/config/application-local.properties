# QMS-AI 本地开发环境配置
# 配置日期: 2025-01-30
# 环境类型: 本地开发环境

# 服务端口配置
server.port = 8081

# 禁用Eureka注册中心（本地环境不需要）
eureka.client.register-with-eureka = false
eureka.client.fetch-registry = false

# 禁用Feign服务发现（本地环境使用直连）
feign.client.config.service.url.enabled = false

# 数据库配置 - 本地MySQL
spring.datasource.driver-class-name = com.mysql.cj.jdbc.Driver
spring.datasource.url = jdbc:mysql://localhost:3307/db_transcend_plm_configcenter?useUnicode=true&characterEncoding=utf-8&useSSL=false&serverTimezone=Asia/Shanghai&allowPublicKeyRetrieval=true
spring.datasource.username = qms_ai_user
spring.datasource.password = QmsAi2024@User

# 连接池配置
spring.datasource.hikari.maximum-pool-size = 20
spring.datasource.hikari.minimum-idle = 5
spring.datasource.hikari.connection-timeout = 30000
spring.datasource.hikari.idle-timeout = 600000
spring.datasource.hikari.max-lifetime = 1800000

# MyBatis Plus配置
mybatis-plus.configuration.map-underscore-to-camel-case = true
mybatis-plus.configuration.log-impl = org.apache.ibatis.logging.stdout.StdOutImpl
mybatis-plus.global-config.db-config.logic-delete-field = deleteFlag
mybatis-plus.global-config.db-config.logic-delete-value = 1
mybatis-plus.global-config.db-config.logic-not-delete-value = 0

# Redis配置 - 本地Redis
spring.redis.host = localhost
spring.redis.port = 6379
spring.redis.password =
spring.redis.database = 0
spring.redis.timeout = 5000ms
spring.redis.lettuce.pool.max-active = 8
spring.redis.lettuce.pool.max-idle = 8
spring.redis.lettuce.pool.min-idle = 0

# RabbitMQ配置 - 本地RabbitMQ
spring.rabbitmq.host = localhost
spring.rabbitmq.port = 5672
spring.rabbitmq.username = guest
spring.rabbitmq.password = guest
spring.rabbitmq.virtual-host = /

# 日志配置
logging.level.root = info
logging.level.com.transcend = debug
logging.level.org.springframework.web = debug
logging.pattern.console = %d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n

# 跨域配置
spring.web.cors.allowed-origins = http://localhost:8073,http://localhost:8080,http://localhost:8082
spring.web.cors.allowed-methods = GET,POST,PUT,DELETE,OPTIONS
spring.web.cors.allowed-headers = *
spring.web.cors.allow-credentials = true

# 文件上传配置
spring.servlet.multipart.max-file-size = 50MB
spring.servlet.multipart.max-request-size = 50MB

# 禁用不需要的功能
management.endpoints.web.exposure.include = health,info
management.endpoint.health.show-details = always
